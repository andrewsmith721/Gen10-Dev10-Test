<!DOCTYPE html> 
<!--
    Name: Andrew Smith
    Date Created: 3/25/2019 
    Most recent revision: 3/28/2019
-->
<html lang="en"> 
    <head> 
        <title>Lucky Sevens</title>	
			<style>
			td {
			border: 1px solid black;
			padding-right: 10px;
			}
			th {
			font-size: 27px;
			}
			.txtBox {
			width: 50px;
			text-align: center;
			}
			table {
			border-collapse: collapse;
			}
			
			</style>
		
			<script type="text/javascript">
			
			function luckySevens(){

var startingBet = document.getElementById("startingBet").value;
var gameMoney = 0;
var die1 = 0;
var die2 = 0;
var dice = 0;
var rollTally = 0;
var unLuckyCounter = 0;
var gameMoney = startingBet;
var moneyHeld = [startingBet];
var win = 4;
var maxHeld = 0;
// var maxHeldCounter[0];	
	
	if (startingBet <= 0) {
	alert("Your Starting Bet must be Greater Than Zero!");
	} else {
		do{
		// dice roller radomizer
		rollTally++;
		die1 = Math.floor(Math.random() * 6) + 1;
		die2 = Math.floor(Math.random() * 6) + 1;	
		dice = die1+die2;

			// WINNER
			if (dice == 7){
			gameMoney += win; // add $4 to money used to make bets
			var last_element = moneyHeld[moneyHeld.length -1]; // get value of last element of moneyHeld array that is used to show current money held by player after last roll
			var last_updated = last_element + win; // adds $4 to previous roll winnings and stores in last_updated
			moneyHeld.push(last_updated);

			// LOSER
			}else {
			gameMoney--;
			unLuckyCounter++;
				// maxMoney.push(0);
			var last_element = moneyHeld[moneyHeld.length -1];
			var last_updated = last_element--;
			moneyHeld.push(last_updated);
			rollTally = rollTally++;
			}


	}while(gameMoney>0);
	var totalMax = 0;

	totalMax = Math.max.apply(Math, moneyHeld); // finds max value in moneyHeld array
	numRolls = moneyHeld.indexOf(totalMax); // finds number of rolls till max moneyHeld array
	if(numRolls<1){
		numRolls = 0;
	}

	document.getElementById("p1").innerHTML=("<hr width= 230px;/><center><br><table style=\"width: 100% height: 100%;\"><th colspan=\"2\"; class=\"th1\">Results</th><tr><td class=\"th2\">Starting Bet</td><td class=\"td\">$" + startingBet + ".00</th></tr><tr><td>Total Rolls Before Going Broke</td><td>" + rollTally + "</td></tr><tr><td>Highest Amount Won</td><td>$" + totalMax + ".00</td></tr><tr><td>Roll Count at Highest Amount Won</td><td>" + numRolls + "</td></tr></table></center>");
	document.getElementById("p2").innerHTML="Play Again";

} 
}

			</script>
			
			</head> 
    
    <body>
        <header align="center">
            <h1>Lucky Sevens</h1>
        </header>

        <nav>

        </nav>

			<div align="center">
					<strong>Starting Bet:</strong> <input class="txtBox" type="text" id="startingBet" name="bet" placeholder="$0.00"><br>
						<br/>
						<button onclick="luckySevens()" id="p2" class="playButton" type="button">Play</button>
				</form>
				</div>
				<div style="text-align:center;" id="p1"></div>


        <footer>

        </footer>
    </body> 
</html>




